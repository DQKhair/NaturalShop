@model IEnumerable<PJ_SanPhamTieuDung_.Net.Models.SanPham>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    #img_sp{
        width:25%;
    }
    @@media only screen and (max-width: 740px) {
        #img_sp {
            width: 100%;
        }
    }
</style>

<h5 class="text-uppercase fw-bold">Quản lý sản phẩm</h5>

<p>
    @Html.ActionLink("Thêm sản phẩm", "Create","",htmlAttributes: new {@class="btn btn-success"})
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayName("Tên sản phẩm")
        </th>
        <th>
            @Html.DisplayName("Đơn giá")
        </th>
        <th>
            @Html.DisplayName("Hình ảnh")
        </th>
        <th>
            @Html.DisplayName("Khuyến mãi")
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.TenSanPham)
        </td>
        <td class="text-danger">
            @{ int price = Convert.ToInt32(Html.DisplayFor(modelItem => item.DonGia).ToString());}
            @price.ToString("n0") VNĐ
        </td>
        <td>
            <img id="img_sp" src="@Html.DisplayFor(modelItem => item.HinhAnh)" alt="hinh anh san pham" />
        </td>
        <td>
            @{ 
                var khuyenmai = Html.DisplayFor(modelItem => item.khuyenmai).ToString();
                if (!String.IsNullOrEmpty(khuyenmai))
                {
                        <p>Đang khuyến mãi</p>
                }
                else
                {<p>Không</p>}
            }
        </td>
        <td style="width:10%">
            @Html.ActionLink("Chi tiết", "Details", new { id=item.MaSanPham },new {@class="btn btn-outline-success w-100" })
            @Html.ActionLink("Chỉnh sửa", "Edit", new { id=item.MaSanPham },new {@class = "btn btn-success my-2 w-100"})
            @Html.ActionLink("Xóa", "Delete", new { id=item.MaSanPham },new {@class="btn btn-danger w-100" })
        </td>
    </tr>
}
</table>
